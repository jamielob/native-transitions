#Native Transitions for Meteor Mobile Apps

##Setup

`meteor add jamielob:native-transitions`

The same way that you have `helpers` for your templates, you can now `transition` too! Simply add the following:

```
	Template.templateName.transition();
```

If you want to set the options, just pass in an object:

```
	Template.templateName.transition({
		type: 'flip',
		direction: 'left'
	});
```

##Status bar
You'll need to style your status bar to make things look nice.
```meteor add mobile-status-bar```

```
Meteor.startup(function() {
	if (Meteor.isCordova) {
		//Format the status bar
		StatusBar.overlaysWebView(false);
		StatusBar.styleLightContent();
		StatusBar.backgroundColorByHexString("#2f3339");
	}
});
```

##Default settings and options

If you want to change any of the default global settings you can create a file with any of the following:

```
	//Default transition - options are slide, flip, fade
	nt.defaults.type = 'slide'

	//Default transition direction - options are left, right, up, down, depending on the transition type
	nt.defaults.direction = 'left';

	//Default back transition direction
	nt.defaults.backDirection = 'right';

	//Default transition duration
	nt.defaults.duration = 350;

	//Default delays
	nt.defaults.iosdelay = 0;
	nt.defaults.androiddelay = 0;

	//Fixed pixels
	nt.defaults.fixedPixelsTop = 0;
	nt.defaults.fixedPixelsBottom = 0;

	//Slow down factor (overla;)
	nt.defaults.slowdownfactor = 4;

	//Callbacks
	nt.defaults.onCompleted = null;
```


##Header bar
If you want your header bar to remain static while the page transitions and don't want to do it manually with the fixedPixels setting, then you can add the `jamielob:native-transitions-header` package.


##Completed callback

You can pass a callback function in to the options and it will be called once the transition is completed.

```
	Template.templateName.transition({
		type: 'flip',
		direction: 'left',
		onCompleted: function() {
			alert('Transition completed!');
		}
	});
```


##Speed
Don't put too much on a single page otherwise the transition will have a delay.  Check out the native-transitions-tabs package for your core app pages.


##Router
Although this package doesn't depend on FlowRouter, it's the best one to use with it.
The native-transitions-tabs package does depend on FlowRouter, making use of the reactive query params.


##Companion app warning

```Probably running inside a companion app, your app may crash if your html file is not in the root!```

This warning is generated by the cordova plugin and can be safely ignored for your Meteor app.  I'm working on hiding it.

##Flickers and slow downs

If you are seeing a flicker of the page that you are headed to at the start of your transition then you might just need some more content! It usually happens because the page that you are loading is loaded so quickly that you see it before the screenshot of the old page can be displayed.   Try adding some dummy CSS styles content and see if it fixes it for you.

At the other end of the spectrum, flickers and slow downs can sometimes be because a page has too much content.  Try lightening the load and be sure to text on older devices!

If you see a "ghost" image on every transition, this could be because of a bug related to two quick successive transitions in a row. I have seen this happen for example with the Facebook Cordova plugin after a succesful login. It can be fixed in that example by placing a short delay after the succesful login before redirecting.

##Crosswalk
If you are using crosswalk then you will need to add a line to your `mobile-config.js` file:
```
	App.setPreference('CrosswalkAnimatable', 'true');
```

Without this line you'll see an error stating `Unfortunately, APPNAME has stopped`.